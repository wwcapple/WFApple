<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/13/hello-world/" class="article-date">
  <time datetime="2017-10-13T10:40:38.000Z" itemprop="datePublished">2017-10-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/13/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/10/13/hello-world/" data-id="cj95hfeyr0000bqc0prrl3s36" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-md/study" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/12/md/study/" class="article-date">
  <time datetime="2017-09-12T09:46:18.000Z" itemprop="datePublished">2017-09-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p>#学习记录</p>
<h2 id="工作计划"><a href="#工作计划" class="headerlink" title="工作计划"></a>工作计划</h2><h3 id="1、上班时间将工程重构，按照MVC模式-重构过程中要注意自动测试和性能测试"><a href="#1、上班时间将工程重构，按照MVC模式-重构过程中要注意自动测试和性能测试" class="headerlink" title="1、上班时间将工程重构，按照MVC模式     (重构过程中要注意自动测试和性能测试)"></a>1、上班时间将工程重构，按照MVC模式     (重构过程中要注意自动测试和性能测试)</h3><ol>
<li>将类别进行统一整理，放到QLFoundation项目中</li>
<li>整理全局的宏文件</li>
<li>将工程中的网络请求框架做一个精简和优化，并抽出为工程</li>
<li>将项目逐渐改为workspace组织样式，首先从QLFoundation下手</li>
<li>优化齐齐SDK，将齐齐需要的参数封装成一个模型，尽量减少提供的头文件，给齐齐SDK新建一个Target</li>
</ol>
<h3 id="2、深入学习音视频编程，需要时找人帮助"><a href="#2、深入学习音视频编程，需要时找人帮助" class="headerlink" title="2、深入学习音视频编程，需要时找人帮助"></a>2、深入学习音视频编程，需要时找人帮助</h3><h3 id="3、空闲时间在家看书，或者搭建自己的博客系统"><a href="#3、空闲时间在家看书，或者搭建自己的博客系统" class="headerlink" title="3、空闲时间在家看书，或者搭建自己的博客系统"></a>3、空闲时间在家看书，或者搭建自己的博客系统</h3><h3 id="4、让小组程序学习Swift语言，并写Demo和PPT讲解Swift语言的使用"><a href="#4、让小组程序学习Swift语言，并写Demo和PPT讲解Swift语言的使用" class="headerlink" title="4、让小组程序学习Swift语言，并写Demo和PPT讲解Swift语言的使用"></a>4、让小组程序学习Swift语言，并写Demo和PPT讲解Swift语言的使用</h3><h2 id="安装鼠标、键盘共享工具-Synergy"><a href="#安装鼠标、键盘共享工具-Synergy" class="headerlink" title="安装鼠标、键盘共享工具 Synergy"></a>安装鼠标、键盘共享工具 Synergy</h2><p>synergy是个开源的软件，有三个版本 mac / linux / windows，要想实现共享鼠标键盘，必须在所有机器上都安装这个软件，并进行相应的配置，有一台唯一的主机作为服务器端，其他主机作为客户端，要共享的那套鼠标键盘链接到端。所有主机都必须连入同一个局域网，会通过局域网交换鼠标键盘的输入信息，以实现其他主机共享使用这套鼠标键盘。</p>
<ol>
<li>安装 Synergy</li>
<li>启动 Synergy，其中一个作为服务端，一个作为客户端</li>
<li>服务端需要设置信任的客户端，否则客户端连接失败，可以通过交互设置下的设置服务端进行设置</li>
<li>设置完成，启动服务</li>
<li>客户端填写服务端的IP地址，开始连接</li>
</ol>
<blockquote>
<p>PS:服务端和客户端一定要在同一个局域网中</p>
</blockquote>
<p>参考连接：<a href="http://blog.csdn.net/eightwhells/article/details/49474339" target="_blank" rel="external">http://blog.csdn.net/eightwhells/article/details/49474339</a><br>Mac 屏幕共享可以参考：<a href="http://jingyan.baidu.com/article/9f63fb91827bc6c8400f0e97.html" target="_blank" rel="external">http://jingyan.baidu.com/article/9f63fb91827bc6c8400f0e97.html</a></p>
<h2 id="待学记录"><a href="#待学记录" class="headerlink" title="待学记录"></a>待学记录</h2><h3 id="socket-（解决搭建音视频推流服务器问题）"><a href="#socket-（解决搭建音视频推流服务器问题）" class="headerlink" title="socket （解决搭建音视频推流服务器问题）"></a>socket （解决搭建音视频推流服务器问题）</h3><p><a href="http://blog.sina.com.cn/s/blog_79b01f66010163q3.html" target="_blank" rel="external">C语言 SOCKET 编程指南</a><br><a href="http://www.cnblogs.com/Anker/p/3263780.html" target="_blank" rel="external">IO 多路复用之 epoll 总结</a></p>
<h2 id="空闲时间玩玩"><a href="#空闲时间玩玩" class="headerlink" title="空闲时间玩玩"></a>空闲时间玩玩</h2><p>debookee 监控路由<br>zeronet<br>cocoscreater</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/09/12/md/study/" data-id="cj95hfezi0002bqc0ljlmzlhh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-md/code/Linux/Linux-order/getopts" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/04/md/code/Linux/Linux-order/getopts/" class="article-date">
  <time datetime="2016-12-04T14:06:48.000Z" itemprop="datePublished">2016-12-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="getopts-命令"><a href="#getopts-命令" class="headerlink" title="getopts 命令"></a>getopts 命令</h1><h2 id="Shell-参数处理"><a href="#Shell-参数处理" class="headerlink" title="Shell 参数处理"></a>Shell 参数处理</h2><p>在bash中，可以用以下三种方式来处理命令行参数，每种方式都有自己的应用场景。  </p>
<ul>
<li>手工处理方式</li>
<li>getopts</li>
<li>getopt</li>
</ul>
<h3 id="手工处理方式"><a href="#手工处理方式" class="headerlink" title="手工处理方式"></a>手工处理方式</h3><p>在手工处理方式中，首先要知道几个变量，还是以上面的命令行为例：</p>
<ul>
<li>$0 ：./test.sh,即命令本身，相当于C/C++中的argv[0]</li>
<li>$1 ：-f,第一个参数.</li>
<li>$2 ：config.conf</li>
<li>$3, $4 … ：类推。</li>
<li>$#  参数的个数，不包括命令本身，上例中$#为4.</li>
<li>$@ ：参数本身的列表，也不包括命令本身，如上例为-f config.conf -v –prefix=/home</li>
<li>$<em> ：和$@相同，但”$</em>“ 和 “$@”(加引号)并不同，”$*”将所有的参数解释成一个字符串，而”$@”是一个参数数组</li>
</ul>
<p>手工处理方式能满足大多数的简单需求，配合shift使用也能构造出强大的功能，但在要处理复杂选项的时候建议用下面的两种方法。</p>
<h3 id="getopts和getopt"><a href="#getopts和getopt" class="headerlink" title="getopts和getopt"></a>getopts和getopt</h3><p>处理命令行参数是一个相似而又复杂的事情，为此，C提供了getopt/getopt_long等函数，<br>C++的boost提供了Options库，在shell中，处理此事的是getopts和getopt.</p>
<p>getopts和getopt功能相似但又不完全相同，其中getopt是独立的可执行文件，而getopts是由Bash内置的。</p>
<p>先来看看参数传递的典型用法:</p>
<ul>
<li>./test.sh -a -b -c  ： 短选项，各选项不需参数</li>
<li>./test.sh -abc   ： 短选项，和上一种方法的效果一样，只是将所有的选项写在一起。</li>
<li>./test.sh -a args -b -c ：短选项，其中-a需要参数，而-b -c不需参数。</li>
<li>./test.sh –a-long=args –b-long ：长选项</li>
</ul>
<p><strong>我们先来看getopts,它不支持长选项。</strong></p>
<h4 id="getopts"><a href="#getopts" class="headerlink" title="getopts"></a>getopts</h4><p>示例代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">while getopts &quot;a:bc&quot; arg #选项后面的冒号表示该选项需要参数</div><div class="line">do</div><div class="line">    case $arg in</div><div class="line">         a)</div><div class="line">            echo &quot;a&apos;s arg:$OPTARG&quot; #参数存在$OPTARG中</div><div class="line">            ;;</div><div class="line">         b)</div><div class="line">            echo &quot;b&quot;</div><div class="line">            ;;</div><div class="line">         c)</div><div class="line">            echo &quot;c&quot;</div><div class="line">            ;;</div><div class="line">         ?)  #当有不认识的选项的时候arg为?</div><div class="line">        echo &quot;unkonw argument&quot;</div><div class="line">    exit 1</div><div class="line">    ;;</div><div class="line">    esac</div><div class="line">done</div></pre></td></tr></table></figure></p>
<p>现在就可以使用：<br>./test.sh -a arg -b -c<br>或<br>./test.sh -a arg -bc</p>
<p>执行结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a&apos;s arg:arg</div><div class="line">b</div><div class="line">c</div></pre></td></tr></table></figure></p>
<p>应该说绝大多数脚本使用该函数就可以了，如果需要支持长选项以及可选参数，那么就需要使用getopt。</p>
<h4 id="getopt"><a href="#getopt" class="headerlink" title="getopt"></a>getopt</h4><p>有一个shell工具getopt是另一个程序，而不是bash内置的。 getopt(3)的GNU实现(由命令行 getopt(1)在Linux上使用)支持解析长选项。<br>但是，getopt(例如在Mac OS X上)的BSD实现没有。</p>
<p>所以在 Mac OS 上不支持 getopt，但是可以安装这个程序，执行 <code>brew install gnu-getopt.</code> 命令安装程序，安装完成后可以执行 <code>ln -s /usr/local/Cellar/gnu-getopt/1.1.6/bin/getopt /usr/local/bin/ggetopt</code> 命令做一个软连接，就可以使用程序了。PS:这里要注意软连接的路径要改成自己的路径，软连接的名称改为 ggetopt 是因为 Mac OS 下已经存在了 getopt 命令，但是这个命令不完整，改名是为了防止冲突。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">#echo $@</div><div class="line"></div><div class="line">#-o或--options选项后面接可接受的短选项，如ab:c::，表示可接受的短选项为-a -b -c，其中-a选项不接参数，-b选项后必须接参数，-c选项的参数为可选的</div><div class="line">#-l或--long选项后面接可接受的长选项，用逗号分开，冒号的意义同短选项。</div><div class="line">#-n选项后接选项解析错误时提示的脚本名字</div><div class="line">ARGS=`ggetopt -o adb:c:: --long along,blong:,clong:: -n &apos;example.sh&apos; -- &quot;$@&quot;`</div><div class="line">if [ $? != 0 ]; then</div><div class="line">    echo &quot;Terminating...&quot;</div><div class="line">    exit 1</div><div class="line">fi</div><div class="line"></div><div class="line">#echo $ARGS</div><div class="line">#将规范化后的命令行参数分配至位置参数（$1,$2,...)</div><div class="line">echo $&#123;ARGS&#125;</div><div class="line">eval set -- &quot;$&#123;ARGS&#125;&quot;</div><div class="line">echo $&#123;ARGS&#125;</div><div class="line"></div><div class="line">while true</div><div class="line">do</div><div class="line">echo &quot;============：&quot; $1 $2 $3  &quot;argument_num:&quot; $# &quot;argument:&quot;$@</div><div class="line">    case &quot;$1&quot; in</div><div class="line">        -a|--along) </div><div class="line">            echo &quot;Option a&quot;;</div><div class="line">            shift</div><div class="line">            ;;</div><div class="line">        -d) </div><div class="line">        echo &quot;Option d&quot;;</div><div class="line">        shift</div><div class="line">        ;;</div><div class="line">        -b|--blong)</div><div class="line">            echo &quot;Option b, argument $2&quot;;</div><div class="line">            shift 2</div><div class="line">            ;;</div><div class="line">        -c|--clong)</div><div class="line">            case &quot;$2&quot; in</div><div class="line">                &quot;&quot;)</div><div class="line">                    echo &quot;Option c, no argument&quot;;</div><div class="line">                    shift 2  </div><div class="line">                    ;;</div><div class="line">                *)</div><div class="line">                    echo &quot;Option c, argument $2&quot;;</div><div class="line">                    shift 2;</div><div class="line">                    ;;</div><div class="line">            esac</div><div class="line">            ;;</div><div class="line">        --)</div><div class="line">            shift</div><div class="line">            break</div><div class="line">            ;;</div><div class="line">        *)</div><div class="line">            echo &quot;Internal error!&quot;</div><div class="line">            exit 1</div><div class="line">            ;;</div><div class="line">    esac</div><div class="line">done</div><div class="line"></div><div class="line">#处理剩余的参数</div><div class="line">for arg in $@</div><div class="line">do</div><div class="line">    echo &quot;processing $arg&quot;</div><div class="line">done</div></pre></td></tr></table></figure>
<p>getopt命令与getopts命令不同，它实际上是通过将参数规范化来帮助我们处理的。规范化后的参数仍然需要我们手动处理。比如：你输入的命令为 ./wwc.sh -a  -b arg arg1 -ccc，按照上述程序，规范化后的参数就是 -a -b ‘arg’ -c ‘cc’ – ‘arg1’。</p>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><h3 id="ln-命令"><a href="#ln-命令" class="headerlink" title="ln 命令"></a>ln 命令</h3><p>ln [参数][源文件或目录][目标文件或目录]</p>
<h3 id="Shell编程中Shift的用法"><a href="#Shell编程中Shift的用法" class="headerlink" title="Shell编程中Shift的用法"></a>Shell编程中Shift的用法</h3><p>位置参数可以用shift命令左移。比如shift 3表示原来的$4现在变成$1，原来的$5现在变成$2等等，原来的$1、$2、$3丢弃，$0不移动。不带参数的shift命令相当于shift 1。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/04/md/code/Linux/Linux-order/getopts/" data-id="cj95hfezv0003bqc034uk3yzp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-md/code/Linux/Linux-order/sed" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/04/md/code/Linux/Linux-order/sed/" class="article-date">
  <time datetime="2016-12-04T14:06:48.000Z" itemprop="datePublished">2016-12-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="sed-命令"><a href="#sed-命令" class="headerlink" title="sed 命令"></a>sed 命令</h1><p>sed 是一种在线编辑器，它一次处理一行内容。</p>
<p><code>sed [-nefr] [动作]</code><br>选项与参数：<br>-n ：使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN 的数据一般都会被列出到终端上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来。<br>-e ：直接在命令列模式上进行 sed 的动作编辑；<br>-f ：直接将 sed 的动作写在一个文件内， -f filename 则可以运行 filename 内的 sed 动作；<br>-r ：sed 的动作支持的是延伸型正规表示法的语法。(默认是基础正规表示法语法)<br>-i ：直接修改读取的文件内容，而不是输出到终端。</p>
<p>function：<br>a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～<br>c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！<br>d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；<br>i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；<br>p ：列印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行～<br>s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！</p>
<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><p>将第 2~5 行删除：<br>nl /etc/passwd | sed ‘2,5d’</p>
<p>删除第 3 到最后一行<br>nl /etc/passwd | sed ‘3,$d’ </p>
<h2 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h2><p>第二行后加上『drink tea?』<br>nl /etc/passwd | sed ‘2a drink tea’</p>
<p>在第二行前添加<br>nl /etc/passwd | sed ‘2i drink tea’ </p>
<p>如果是要增加两行以上，每一行之间都必须要以反斜杠『 \ 』来进行新行的添加。</p>
<h2 id="以行为单位的替换"><a href="#以行为单位的替换" class="headerlink" title="以行为单位的替换"></a>以行为单位的替换</h2><p>将第2-5行的内容取代成为 No 2-5 number：<br>nl /etc/passwd | sed ‘2,5c No 2-5 number’</p>
<h2 id="数据的搜寻并替换"><a href="#数据的搜寻并替换" class="headerlink" title="数据的搜寻并替换"></a>数据的搜寻并替换</h2><p>sed ‘s/要被取代的字串/新的字串/g’<br>支持正则表达式</p>
<p>可以的知道在sed命令的s模式中，g是起到一个全局的作用，这个范围是每一行，也就是说是一行为单位，作为一个全局。<br>    加g :匹配每一行由行首到行尾的所有字符<br>    不加g:匹配每一行的行首开始匹配，匹配到第一个符合的字段，就会结束，跳到下一行</p>
<p>示例代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">amp1:~ # cat 3.txt   // 3.txt的内容</div><div class="line">hello hello hello  </div><div class="line">   hello  hello</div><div class="line">hello  hello hello</div><div class="line">    </div><div class="line">amp1:~ # sed &apos;s/hello/nihao/&apos; 3.txt </div><div class="line">nihao hello hello  </div><div class="line">   nihao  hello</div><div class="line">nihao  hello hello</div><div class="line">// 不指定开头，也不加g，结果是匹配到一个符合的字段就直接跳到下一行</div><div class="line">    </div><div class="line">amp1:~ # sed &apos;s/hello/nihao/g&apos; 3.txt  // 不指定开头，加g，匹配全部</div><div class="line">nihao nihao nihao  </div><div class="line">   nihao  nihao</div><div class="line">nihao  nihao nihao</div></pre></td></tr></table></figure></p>
<p>^ 号的作用是匹配以指定字符作为一行开头的字符：<br>/^ <em>/ 匹配以空格开头的字符<br>/^\s/  匹配任何空白字符,包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]<br>/^[[:space:]]</em>/ 匹配以空格或者是\t制表符开头的字符</p>
<p>示例代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">amp1:~ # sed &apos;s/hello/nihao/g&apos; 3.txt  // 不指定开头，加g，匹配全部</div><div class="line">nihao nihao nihao  </div><div class="line">   nihao  nihao</div><div class="line">nihao  nihao nihao</div><div class="line">    </div><div class="line">amp1:~ # sed &apos;s/^hello/nihao/&apos; 3.txt </div><div class="line">nihao hello hello  </div><div class="line">   hello  hello</div><div class="line">nihao  hello hello</div><div class="line">// 指定开头，行首的第一个字段必须是&quot;hello&quot;,所以第二行的hello不能被匹配到。</div></pre></td></tr></table></figure></p>
<h2 id="数据的搜寻并执行命令"><a href="#数据的搜寻并执行命令" class="headerlink" title="数据的搜寻并执行命令"></a>数据的搜寻并执行命令</h2><p>搜索/etc/passwd,找到root对应的行，执行后面花括号中的一组命令，每个命令之间用分号分隔，这里把bash替换为blueshell，再输出这行：<br>nl /etc/passwd | sed -n ‘/root/{s/bash/blueshell/;p}’</p>
<p>如果只替换/etc/passwd的第一个bash关键字为blueshell，就退出：<br>nl /etc/passwd | sed -n ‘/bash/{s/bash/blueshell/;p;q}’ </p>
<h2 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h2><p>仅列出 /etc/passwd 文件内的第 5-7 行：<br>nl /etc/passwd | sed -n ‘5,7p’</p>
<p>nl /etc/passwd | sed ‘/root/p’<br>如果root找到，除了输出匹配行，还会输出所有行。</p>
<p>使用-n的时候将只打印包含模板的行（匹配行）。<br>nl /etc/passwd | sed -n ‘/root/p’</p>
<h2 id="多点编辑"><a href="#多点编辑" class="headerlink" title="多点编辑"></a>多点编辑</h2><p>一条sed命令，删除/etc/passwd第三行到末尾的数据，并把bash替换为blueshell<br>nl /etc/passwd | sed -e ‘3,$d’ -e ‘s/bash/blueshell/‘</p>
<h2 id="直接修改文件内容"><a href="#直接修改文件内容" class="headerlink" title="直接修改文件内容"></a>直接修改文件内容</h2><p>sed 可以直接修改文件的内容，不必使用管道命令或数据流重导向！</p>
<p>利用 sed 将 regular_express.txt 内每一行结尾若为 . 则换成 !<br>sed -i ‘s/.$/!/g’ regular_express.txt</p>
<p>利用 sed 直接在 regular_express.txt 最后一行加入『# This is a test』<br>sed -i ‘$a # This is a test’ regular_express.txt</p>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><h3 id="nl-命令"><a href="#nl-命令" class="headerlink" title="nl 命令"></a>nl 命令</h3><p>nl (Number of Lines) 将指定的文件添加行号标注后写到标准输出。如果不指定文件或指定文件为”-“ ，程序将从标准输入读取数据。</p>
<p>-b, –body-numbering=样式    指定哪些行要加上行号<br>-n, –number-format= 格式    指定行号的显示样式<br>-w, –number-width= 数字     指定行号的宽度 </p>
<p>-b 的参数：<br>a    对所有行编号<br>t    对非空行编号<br>n    不编行号<br>pBRE    只对符合正则表达式BRE 的行编号 </p>
<p>-n 的参数：<br>ln     左对齐，空格不用0 填充<br>rn     右对齐，空格不用0 填充<br>rz     右对齐，空格用0 填充</p>
<p>nl -w 6 test1.log           // 指定行号按6位输出</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/04/md/code/Linux/Linux-order/sed/" data-id="cj95hfezw0004bqc0onmh1yy6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-md/code/Linux/Linux-order/sysctl" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/04/md/code/Linux/Linux-order/sysctl/" class="article-date">
  <time datetime="2016-12-04T14:06:48.000Z" itemprop="datePublished">2016-12-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="sysctl-命令"><a href="#sysctl-命令" class="headerlink" title="sysctl 命令"></a>sysctl 命令</h1><h2 id="sysctl-命令-1"><a href="#sysctl-命令-1" class="headerlink" title="sysctl 命令"></a>sysctl 命令</h2><p>sysctl - 在运行时配置内核参数。</p>
<p>sysctl [options] [variable[=value]] […]</p>
<h3 id="常用方式"><a href="#常用方式" class="headerlink" title="常用方式"></a>常用方式</h3><p>-n, –values        显示变量值的同时不显示变量名<br>-a, –all           显示所有当前的变量名<br>variable=values     要设置变量及相应的值。<br>                    必须同时使用 -w 选项(Linux)。如果值中含有特殊意义的shell字符或引号，那么你最好使用双引号进行界定。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>sysctl -n net.inet.ip.ttl          显示变量net.inet.ip.ttl对应的TTL值<br>sysctl net.inet.ip.ttl=64          设置变量net.inet.ip.ttl对应的TTL值<br>sysctl -a                          显示所有的变量和值</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/04/md/code/Linux/Linux-order/sysctl/" data-id="cj95hfezx0005bqc0dry08z98" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/10/13/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/09/12/md/study/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/12/04/md/code/Linux/Linux-order/getopts/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/12/04/md/code/Linux/Linux-order/sed/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/12/04/md/code/Linux/Linux-order/sysctl/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>